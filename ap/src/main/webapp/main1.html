
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">


<title>Login</title>

<!-- Bootstrap core CSS -->
<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="dashboard.css" rel="stylesheet">
<link rel="stylesheet" href="jquery-ui-1.11.4/jquery-ui.css">
  
<style>
		table, th, td {
			border: 1px solid black;
			border-collapse: collapse;
		}
		 
</style>
</head>


<body>


<form name="form1">
	 <table>
		<tr>
			<td>
					<button onclick="logout()">登出</button> 
			</td>
			<td>
					帳號: <input type="text" id="user" readonly />
			</td>
		</tr>
		<tr>
			<td>
					今日輸贏 
			</td>
			<td>
					 <div  class="toDayWin">loading...</div>
			</td>
		</tr>
		
		<tr style="display:none">
			<td>
					下次期數 
			</td>
			<td>
					 <div  class="toPhase">2</div>
			</td>
		</tr>
			<tr>
			<td>
					程式啟動: 
			</td>
			<td>
					       <select class="startstatus">
						  <option value="0">停用 </option>
						  <option value="1">啟用 </option> 
						</select> 
			</td>
		</tr>
	 </table>
	  
	  <h3>下注設定</h3>
	  <table>
			
			  <tr>
				<td rowspan="5">下注方式</td>
					<td> <input type="checkbox" name="c1" id="c1" value="1" onclick="return chk(this);">金星-公式1 </td> 
					<td>下注參數</td> 
					<td> <input class="betlist" type ="text" size=35/></td> 
		  </tr>
		  <tr> 
 		         <td> <input type="checkbox" name="c1" id="c2" value="2" onclick="return chk(this);">金星-公式2</td> 
				 <td>下注參數</td> 
					<td> <input class="betlist2" type ="text" size=35/></td> 
		  </tr>
		  <tr>
			<td> <input type="checkbox" name="c1" id="c3" value="3" onclick="return chk(this);">金星-公式3</td>
			<td>下注參數</td> 
					<td> <input class="betlist3" type ="text" size=35/></td> 
			 
		  </tr>
		  <tr> 
			 <td> <input type="checkbox" name="c1" id="c4" value="4" onclick="return chk(this);">金星-大小</td>
			 <td>下注參數</td> 
					<td> <input class="betlist4" type ="text" size=35/></td> 
		  </tr>
		   <tr>
			<td> <input type="checkbox" name="c1" id="c5" value="5" onclick="return chk(this);">金星-單雙</td>
			<td>下注參數</td> 
					<td> <input class="betlist5" type ="text" size=35/></td> 
			 
		  </tr> 
		 
		    <tr>
				<td >停損: </td>
					<td colspan=3> <input class="stoplose" type ="text" size=15/> </td> 
					 
		  </tr>
		  <tr> 
 		       <td >停利: </td>
					<td  colspan=3> <input class="stopwin" type ="text" size=15/> </td> 
		  </tr>
	 </table>
	  
	  
	 
	     
      
	<input type="hidden" id="uid" />
	
	<input type="hidden" id="mid" />
	
		<div id="tabs">
		  <ul>
			<li><a href="#tabs-1">下注記錄</a></li>
			  <!-- <li><a href="#tabs-2">過關記錄</a></li> -->
			<li><a href="#tabs-3">資訊查詢</a></li>
		  </ul>
		  <div id="tabs-1">
				<button onclick="clearLog()">清空記錄</button>
				 <table>
						  <div style="align: left;" class="logHtml">loading...</div>
				 </table>
		  </div>
		  <!-- 
		  <div id="tabs-2">
			<p>Morbi tincidunt, dui sit amet facilisis feugiat, odio metus gravida ante, ut pharetra massa metus id nunc. Duis scelerisque molestie turpis. Sed fringilla, massa eget luctus malesuada, metus eros molestie lectus, ut tempus eros massa ut dolor. Aenean aliquet fringilla sem. Suspendisse sed ligula in ligula suscipit aliquam. Praesent in eros vestibulum mi adipiscing adipiscing. Morbi facilisis. Curabitur ornare consequat nunc. Aenean vel metus. Ut posuere viverra nulla. Aliquam erat volutpat. Pellentesque convallis. Maecenas feugiat, tellus pellentesque pretium posuere, felis lorem euismod felis, eu ornare leo nisi vel felis. Mauris consectetur tortor et purus.</p>
		  </div>  -->
		  <div id="tabs-3">
			    <iframe name="query_frame" id="query_frame" src="about:blank" frameborder="0" scrolling="yes" width="1333" height="768"></iframe>

		  </div>
		</div>
 </form>
</body>
</html>

<script>
  function chk(input)
  {
    for(var i=0;i<document.form1.c1.length;i++)
    {
      document.form1.c1[i].checked = false;
    }
    
    input.checked = true;
    saveParam();
    
    //clear
    betIndex = {
 			'1' : 0,
 			'2' : 0,
 			'3' : 0,
 			'4' : 0,
 			'5' : 0,
 			'6' : 0,
 			'7' : 0,
 			'8' : 0,
 			'9' : 0,
 			'10' : 0,

 	};
    betIndex2 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
	betIndex3 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
    betIndex4 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
    betIndex5 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
    return true;
  }
  
  function getType(){
	  let type = '';
	  if(document.getElementById('c1').checked) { type+='1@'; }
	  if(document.getElementById('c2').checked) { type+='2@'; }
	  if(document.getElementById('c3').checked) { type+='3@'; }
	  if(document.getElementById('c4').checked) { type+='4@'; }
	  if(document.getElementById('c5').checked) { type+='5@'; }
	  
	  return type.substring(0,type.length-1);

  }
  
  function setbetType(t){
	  if(t.indexOf('1')!=-1){document.getElementById("c1").checked = true;}
	  if(t.indexOf('2')!=-1){document.getElementById("c2").checked = true;}
	  if(t.indexOf('3')!=-1){document.getElementById("c3").checked = true;}
	  if(t.indexOf('4')!=-1){document.getElementById("c4").checked = true;}
	  if(t.indexOf('5')!=-1){document.getElementById("c5").checked = true;}
  }
  </script>
  
<script src="jquery.js"> </script>
<script src="utils.js"> </script>
<script src="jquery-ui-1.11.4/jquery-ui.js"> </script>
<script>
	 
 	const checkMinute = [4,9,14,19,24,29,34,39,44,49,54,59];
 	var u = getUrl();
    var stoplose = "";
    var stopwin = "";
    var todayWin = "";
    var ltype = "";
    var betarray = [];
    var betarray2 = [];
    var betarray3 = [];
    var betarray4 = [];
    var betarray5 = [];
    
    var betIndex  = {
 			'1' : 0,
 			'2' : 0,
 			'3' : 0,
 			'4' : 0,
 			'5' : 0,
 			'6' : 0,
 			'7' : 0,
 			'8' : 0,
 			'9' : 0,
 			'10' : 0,

 	};
    var betIndex2  = {
 			'1' : 0,
 			'2' : 0,
 			'3' : 0,
 			'4' : 0,
 			'5' : 0,
 			'6' : 0,
 			'7' : 0,
 			'8' : 0,
 			'9' : 0,
 			'10' : 0,

 	};
    var  betIndex3   = {
 			'1' : 0,
 			'2' : 0,
 			'3' : 0,
 			'4' : 0,
 			'5' : 0,
 			'6' : 0,
 			'7' : 0,
 			'8' : 0,
 			'9' : 0,
 			'10' : 0,

 	};
    var  betIndex4   = {
 			'1' : 0,
 			'2' : 0,
 			'3' : 0,
 			'4' : 0,
 			'5' : 0,
 			'6' : 0,
 			'7' : 0,
 			'8' : 0,
 			'9' : 0,
 			'10' : 0,

 	};
    var betIndex5  = {
 			'1' : 0,
 			'2' : 0,
 			'3' : 0,
 			'4' : 0,
 			'5' : 0,
 			'6' : 0,
 			'7' : 0,
 			'8' : 0,
 			'9' : 0,
 			'10' : 0,

 	};
 	const rangeExist = {
 			'01' : ['09','10','01','02','03'] ,
 			'02' : ['10','01','02','03','04'] ,
 			'03' : ['01','02','03','04','05'] ,
 			'04' : ['02','03','04','05','06'] ,
 			'05' : ['03','04','05','06','07'] ,
 			'06' : ['04','05','06','07','08'] ,
 			'07' : ['05','06','07','08','09'] ,
 			'08' : ['06','07','08','09','10'] ,
 			'09' : ['07','08','09','10','01'] ,
 			'10' : ['08','09','10','01','02'] ,

 	};
    $(document).ready(function(){
		 $( "#tabs" ).tabs();
		  
		var query = window.location.search.substring(1);
		var parsed_qs = parse_query_string(query);
		var uid = (parsed_qs.uid) ;
		var pwd = (parsed_qs.pwd) ;
		var user= (parsed_qs.user);
		var mid = (parsed_qs.mid) ;

		document.getElementById("uid").value = uid;
		document.getElementById("user").value = user;
		document.getElementById("mid").value = mid;
	 
	 
		var frameUrl = "http://203.160.143.110/www_new/index_new.php?username="+user+"&usertype=a&langx=zh-cn&mid=2520&uid="+uid+"";
	     $('#query_frame').attr('src', frameUrl)

		getWinFun();
		getlogHtml();
	     
	    //return;
		
		 $( ".startstatus" ).change(function() {
			 saveParam();
		 });
		   
		 /*$( ".type" ).change(function() {
			 saveParam();
		 });*/
		 $( ".betlist" ).change(function() {
			 saveParam();
		 });
		 $( ".betlist2" ).change(function() {
			 saveParam();
		 });
		 $( ".betlist3" ).change(function() {
			 saveParam();
		 });
		 $( ".betlist4" ).change(function() {
			 saveParam();
		 });
		 $( ".betlist5" ).change(function() {
			 saveParam();
		 });
		 $( ".stoplose" ).change(function() {
			 saveParam();
		 });
		 $( ".stopwin" ).change(function() {
			 saveParam();
		 });
		  
		 
		 timeout();
		 
	});
	
    function pad2(n) { return n < 10 ? '0' + n : n }
    function getYYYYMMDDSS(){
   	 var date = new Date();
	
	 return ( date.getFullYear().toString() + '/' + pad2(date.getMonth() + 1)+ '/'  + pad2( date.getDate())+ '/' + pad2( date.getHours() )+ ':'  + pad2( date.getMinutes() )+ ':'  + pad2( date.getSeconds() ) );

    	
    }
    
    
    
    
    function getWinFun(){
    	 var url =  u + '/getTodayWin?user='+document.getElementById("user").value+'&uid='+encodeURI(document.getElementById("uid").value)  ;
		 var flag = true;  
    	 $.ajax({ url:  url, 
	         async: false,
	         success: function(data) {
	        	 if(data == 'null'){
	        		  flag = false;
	                  if(data == 'null'){
	                      alert('網路已斷線!')
	                      window.location.href="/auto/index.html";
	                  }

	        		  return;
	        	 }
	        	 const json = JSON.parse(data);
	        	  
		    	 	$( "div.toDayWin" ).text(json.todayWin);
		    	 	let betType = json.type;
		    	 	setbetType(betType);
		    	 	
		    	 	$( ".betlist" ).val(json.betlist) ;
		    	 	$( ".betlist2" ).val(json.betlist2) ;
		    	 	$( ".betlist3" ).val(json.betlist3) ;
		    	 	$( ".betlist4" ).val(json.betlist4) ;
		    	 	$( ".betlist5" ).val(json.betlist5) ;

		    	 	$( ".stoplose" ).val(json.stoplose) ;
		    	 	$( ".stopwin" ).val(json.stopwin);
		    	 	$( ".startstatus" ).val(json.startstatus);

		    	  
		    	 	stoplose = json.stoplose;
		    	 	stopwin = json.stopwin;
		    	 	todayWin = json.todayWin;
		    	 	betarray = json.betlist.split(',');
		    	 	betarray2 = json.betlist2.split(',');
		    	 	betarray3 = json.betlist3.split(',');
		    	 	betarray4 = json.betlist4.split(',');
		    	 	betarray5 = json.betlist5.split(',');

		    	 	ltype = json.ltype;
	         	 } 
	         	 
	        });
    	 return flag;
	     
    	
    }
    
    function getlogHtml(){
   	 var url =  u + '/getPredictLog?user='+document.getElementById("user").value+"bet";
		   
   	 $.ajax({ url:  url, 
	         async: true,
	         success: function(data) {
	        	  
	        	 const json = JSON.parse(data);
	        	  
		    	 	$( "div.logHtml" ).html(json.logHtml);
		    	 	 
 
	         	 } 
	         	 
	        });
   	 
	     
   	
   }
    
	function compareByType1(phase_before,phase_now,phase_before4, gid, bIndex, bArray){
		   
		const code_b = getCodeByPhase(phase_before); 
		const code_n = getCodeByPhase(phase_now);
		const code_before4 = getCodeByPhase(phase_before4);
		
		const array_b = code_b.split(',');
		const array_n = code_n.split(',');
		const array_before4 = code_before4.split(',');
		if(array_b.length==0 || array_n.length==0 || array_before4.length==0  ){
			return;
		}
		for(var i=0;i<10;i++){
			const bet_b = array_b[i];
			const bet_n = array_n[i];
			const bet_before4 = array_before4[i];
 
		 	var d = getYYYYMMDDSS();
			var z = i+1;
		    if(rangeExist[bet_b].indexOf(bet_n) != -1){ //預測到、關卡歸零
		    	 
		    
		    	var suclog =  d + "第"+z+"名"+ " 此期" + phase_now  + "(開獎:"+code_n+")," +  " 預測期數 "+phase_before + "預測("+rangeExist[bet_b]+") ,有預測到，下一關，此注不下注" ;
	 
		    	saveLog(document.getElementById("user").value,encodeURI(suclog));

		    	bIndex[z] = 0;
			}

		    	//未預測到、投注
				//取前四期的號碼來預測投注
			 
		    	var log =  d + "第"+z+"名"+ " 此期" + phase_now  + "(開獎:"+code_n+")," + " 預測期數 "+phase_before + "預測("+rangeExist[bet_b]+") ,沒有預測到 ,下注" ;
		    	log+= "， 參考期數"+  phase_before4 + "("+code_before4+"), 下注號碼"+ rangeExist[bet_before4];
				
		    	log+= ",下注金額:"+bArray[bIndex[z]%bArray.length];
		    	var c = bArray[bIndex[z]%bArray.length] == 0 ? '0' : computeCase(bArray,bArray[bIndex[z]%bArray.length]);
		    	var suc = bArray[bIndex[z]%bArray.length] > 1 ? "成功" : "失敗" ;
		    	var betlog =  "預測第"+ (phase_now+1) +"期"+ "，第"+z+"名，號碼("+rangeExist[bet_before4]+")"+ "，第"+c+"關"+"下注金額("+bArray[bIndex[z]%bArray.length]+")"+"("+suc+")";
		    	
		    	var betList =  rangeExist[bet_before4].toString().split(',');
		    	
		    	var writeFlag = false;
		    	for(var b=0;b<betList.length;b++){
		    		var code = betList[b];
		    		var sn = i==9 ? 0 : (i+1);
		    		if(bArray[bIndex[z]%bArray.length]  > 0 ){
		    			reallyBet(gid,sn,code,bArray[bIndex[z]%bArray.length]);
		    			writeFlag = true;
		    			
		    		}
		    			
		    	}
		    	if(writeFlag)
		    		saveLog(document.getElementById("user").value+"bet",encodeURI(betlog)); //只寫下注成功的log
		    		
		    		
		    	saveLog(document.getElementById("user").value,encodeURI(log));
		    	bIndex[z]++;
		 
			
			
		}
		
	}
	function computeCase(f_barray,f_bIndex){
		var index = f_barray.indexOf(f_bIndex);
		var c = 0;
		for(var i=0;i<index;i++){
			if(f_barray[i]>0){
				c++;
			}
		}
		
		return c + 1 ;
	}
	function reallyBet(gid,sn,code,amount){
		$.ajax({ url:  u + "/bet?user="+document.getElementById("user").value +"&gid="+gid +"&uid="+encodeURI(document.getElementById("uid").value)+"&mid="+ document.getElementById("mid").value+
				"&sn="+sn+"&code="+code+"&amount="+amount+"&ltype="+ltype,  
         async: false,
         success: function(data) {
        	 
         	 }
        });
		
	}
	 
	
	function saveLog(user,log){
		 $.ajax({ url:  u + "/saveLog?user="+user +"&log="+log, 
	         async: false,
	         success: function(data) {
	        	 
	         	 }
	        });
		
	}
	function getCodeByPhase(phase){ //取得號碼
		 let code=""; 
		 $.ajax({ url:  u + "/getCode?phase="+phase, 
	         async: false,
	         success: function(data) {
	        	 code = data;
	         	 }
	        });
		 return code ;
	}
	
	
	function getPhase(){ //取得期數
		 let period=""; 
		 $.ajax({ url:  u + "/getPhase", 
	         async: false,
	         success: function(data) {
			        	 if(data == 'null'){
			        		 period = 0 ;
			        		 //解決跳號問題
			        		 betIndex = {
			      		 			'1' : 0,
			      		 			'2' : 0,
			      		 			'3' : 0,
			      		 			'4' : 0,
			      		 			'5' : 0,
			      		 			'6' : 0,
			      		 			'7' : 0,
			      		 			'8' : 0,
			      		 			'9' : 0,
			      		 			'10' : 0,

			      		 	};
			        		 	betIndex2 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
			      			betIndex3 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
			      			betIndex4 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
			      			betIndex5 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
			        	 }else {
			        		   period = data;
				           	   $( "div.toPhase" ).text(data);
			        	 }
	              
	         	 }
	        });
		 return period*1  ;
	}
 	function saveParam(){
 		let type = getType();
 		let betParam = getBetListParam();
 		if($( ".stoplose" ).val() && $( ".stopwin" ).val() && $( ".startstatus" ).val() ){
 			const url =  u + "/saveParam?" + "user="+document.getElementById("user").value+"&type="+ type+
 			betParam
 			+"&stoplose="+$( ".stoplose" ).val()+"&stopwin="+$( ".stopwin" ).val()+"&startstatus="+$( ".startstatus" ).val()  ;
 			$.get(url, function( data ) {
	    	 	 	alert("設定完成!")
		 	}); 
 		}
 		
 	}
 	function getBetListParam(){
 		let p = "";
 		if($( ".betlist" ).val()){ p+= "&betlist="+$( ".betlist" ).val() ; } else {p+= "&betlist=0" ;}
 		if($( ".betlist2" ).val()){ p+= "&betlist2="+$( ".betlist2" ).val() ; }else {p+= "&betlist2=0" ;}
 		if($( ".betlist3" ).val()){ p+= "&betlist3="+$( ".betlist3" ).val() ; }else {p+= "&betlist3=0" ;}
 		if($( ".betlist4" ).val()){ p+= "&betlist4="+$( ".betlist4" ).val() ; }else {p+= "&betlist4=0" ;}
 		if($( ".betlist5" ).val()){ p+= "&betlist5="+$( ".betlist5" ).val() ; }else {p+= "&betlist5=0" ;}
 		return p;
 	}
 	
 	function checkWin(){
 		if((stoplose*-1 < todayWin*1) && (todayWin*1 < stopwin*1) && ( $( ".startstatus" ).val() == '1'))
 			return true;
 		
 		return false;
 	}
 	
 	function checkTime(h){
 		
 		var flag = false;
 		if(h*1 > 8 && h*1 < 24) {
 			flag = true;
 		}else {
 			betIndex = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
 			betIndex2 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
 			betIndex3 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
 			betIndex4 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };
 			betIndex5 = { '1' : 0, '2' : 0, '3' : 0, '4' : 0, '5' : 0, '6' : 0, '7' : 0, '8' : 0, '9' : 0, 	'10' : 0, };

 		}
 		return flag;
 	    
 	}
    function timeout() {
    	
   		
		
	    setTimeout(function () {
	    	        var winFlag = getWinFun();
	    	        getlogHtml();
			    var nextPhase = getPhase();
			    if(nextPhase !=0 && winFlag){
			    	var d = new Date();
				    var n = d.getMinutes();
				    var h = d.getHours();
				    
			        if(checkMinute.indexOf(n) != -1 && checkWin() && checkTime(h)){ //bet time每5分鐘下注一次
						 let o = selectTypeToBet(nextPhase);  
					 
					}
			    	
			    }
	   	 	    
		        
	        timeout();
	    }, 60000);
	}
    
    function selectTypeToBet(nextPhase){
    	  const n = nextPhase - 1 ;
    	  const gid = nextPhase - 554432 ;
    	  let obj = {} ; 
    	 
	    	  if(document.getElementById('c1').checked) { 
	    		  obj.b = nextPhase - 5 ;
	    		  obj.fourTh = nextPhase - 4 ;
	    		  const b = obj.b ;
			  const fourTh = obj.fourTh ;
			  if(isNumber(nextPhase) && isNumber(n)&& isNumber(b)&& isNumber(fourTh)&& isNumber(gid)){
				 	compareByType1(b,n,fourTh,gid,betIndex,betarray);
			  }
	    	  }
		  if(document.getElementById('c2').checked) {
			  obj.b = nextPhase - 6 ;
			  obj.fourTh = nextPhase - 5 ; 
			  const b = obj.b ;
			  const fourTh = obj.fourTh ;
			  if(isNumber(nextPhase) && isNumber(n)&& isNumber(b)&& isNumber(fourTh)&& isNumber(gid)){
				  compareByType1(b,n,fourTh,gid,betIndex2,betarray2);
			  }
		  }
		  
	  	 if(document.getElementById('c3').checked) {
		  obj.b = nextPhase - 7 ;
		  obj.fourTh = nextPhase - 6 ;
		  const b = obj.b ;
		  const fourTh = obj.fourTh ;
		  if(isNumber(nextPhase) && isNumber(n)&& isNumber(b)&& isNumber(fourTh)&& isNumber(gid)){
			  compareByType1(b,n,fourTh,gid,betIndex3,betarray3);		  
	 	  }
	  
		
	    }
	  	  return obj; 
    }
    function clearLog(){
	
    	 $.ajax({ url:  u + "/clearLog?user="+document.getElementById("user").value+"bet", 
	         async: false,
	         success: function(data) {
	        	 $( "div.logHtml" ).html('');
	        	 alert("清空成功!");
	         	 }
	        });
 		
 	}
    
    function isNumber(n) {
    	  return !isNaN(parseFloat(n)) && isFinite(n);
    	}
 	 
	function parse_query_string(query) {
		  var vars = query.split("&");
		  var query_string = {};
		  for (var i = 0; i < vars.length; i++) {
		    var pair = vars[i].split("=");
		    // If first entry with this name
		    if (typeof query_string[pair[0]] === "undefined") {
		      query_string[pair[0]] = decodeURIComponent(pair[1]);
		      // If second entry with this name
		    } else if (typeof query_string[pair[0]] === "string") {
		      var arr = [query_string[pair[0]], decodeURIComponent(pair[1])];
		      query_string[pair[0]] = arr;
		      // If third or later entry with this name
		    } else {
		      query_string[pair[0]].push(decodeURIComponent(pair[1]));
		    }
		  }
		  return query_string;
	}
	
	function logout(){
		 window.location.href="/auto/index.html";
	}

</script>